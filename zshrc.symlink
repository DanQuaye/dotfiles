# Path to your oh-my-zsh configuration.
# # the basics
: ${HOME=~}
: ${LOGNAME=$(id -un)}
: ${UNAME=$(uname)}
: ${ZSH=$HOME/.oh-my-zsh}

# ----------------------------------------------------------------------
# ONLY FOR INTERACTIVE SHELLS
# ----------------------------------------------------------------------

# Don't load bashrc if this isn't an interactive shell
if [ -z '$PS1' ]; then
   return
fi

# ----------------------------------------------------------------------
# ZSH SETTINGS
# ----------------------------------------------------------------------

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
ZSH_THEME="agnoster"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git)

source $ZSH/oh-my-zsh.sh

# ----------------------------------------------------------------------
# EXPORTED VARIABLES
# ----------------------------------------------------------------------
# General variables used in other places

export DOTFILES=$HOME/.dotfiles
export REPODIR=$HOME/repositories

# ----------------------------------------------------------------------
# PATH
# ----------------------------------------------------------------------

PATH=/usr/local/bin:$DOTFILES/bin:$DOTFILES/notes.txt:$DOTFILES/commiter8:$PATH

# put ~/bin on PATH if you have it
if [ -d "$HOME/bin" ]; then
    PATH="$HOME/bin:$PATH"
fi
export PATH

# ----------------------------------------------------------------------
# ENVIRONMENT CONFIGURATION
# ----------------------------------------------------------------------

# ignore python bytecode
export FIGNORE=".pyc"

# history stuff
export HISTCONTROL=ignoredups:ignorespace
alias h=history

# ----------------------------------------------------------------------
# PAGER / EDITOR
# ----------------------------------------------------------------------

# EDITOR
if [ -n "$(command -v vim)" ]; then
    EDITOR=vim
else
    EDITOR=vi
fi
export EDITOR

# PAGER
if [ -n "$(command -v less)" ]; then
    PAGER="less -FirSwX"
    MANPAGER="less -FiRswX"
else
    PAGER=more
    MANPAGER="$PAGER"
fi
export PAGER MANPAGER

# ----------------------------------------------------------------------
# INPUT
# ----------------------------------------------------------------------

# set vim bindings
set -o vi

# ----------------------------------------------------------------------
# RUBY
# ----------------------------------------------------------------------

# Setup rbenv if it's on this machine
if [ -n "$(command -v rbenv)" ]; then
    eval "$(rbenv init -)"
fi

# ----------------------------------------------------------------------
# ALIASES
# ----------------------------------------------------------------------

# This needs to be sourced before the OSX file

# Source the aliases file
source "$DOTFILES/aliases.sh"

# ----------------------------------------------------------------------
# FUNCTIONS
# ----------------------------------------------------------------------

# Some useful functions
source "$DOTFILES/functions.sh"

# ----------------------------------------------------------------------
# OSX
# ----------------------------------------------------------------------

# If this is OSX then source the bash.osx file
if [ "$UNAME" = Darwin ]; then
    source "$DOTFILES/bashrc.osx"
fi

# ----------------------------------------------------------------------
# MISC
# ----------------------------------------------------------------------

# Used for machine specific settings
if [ -f "$HOME/.localrc" ]; then
    source "$HOME/.localrc"
fi

