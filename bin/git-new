#!/bin/bash


die()
{
    echo "$*"
    exit 1
}

setemail()
{

    CHECKDIR="${@:(-1)}"
    if [ -d "$CHECKDIR" ]; then
        cd "$CHECKDIR"
    fi
    git config user.email "$WORKEMAIL"
    git config repo.environment "work"
}

createrepo()
{
    git init "$@"
}

WORKEMAIL=`git config --get work.email`
REPODIR=`pwd`

echo "Hey, it looks like you're creating a git repo!\n"

WORKREPO="n"
echo -n "Is this a work repo? (y/N) "
read WORKREPO
if [ "$WORKREPO" == "y" ]; then
    echo "I'll set your work email and use the work template"
    createrepo
    setemail
else
    echo "No worries"
    createrepo
fi

